<% content_for(:title) { "Find Your Grails Across Every Resale Platform" } %>
<% content_for(:meta_description) { "Search Vinted, eBay, Depop, Grailed, Vestiaire Collective & Poshmark in one place. Find rare clothing, discontinued shoes, and fashion grails instantly." } %>

<% content_for(:structured_data) do %>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "GrailSearch",
  "url": "<%= root_url %>",
  "potentialAction": {
    "@type": "SearchAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "<%= search_url %>?q={search_term_string}"
    },
    "query-input": "required name=search_term_string"
  }
}
</script>
<% end %>

<!-- Hero -->
<section class="relative overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-br from-indigo-50 via-white to-purple-50 -z-10"></div>
  <div class="mx-auto max-w-4xl px-4 pt-20 pb-16 text-center sm:pt-32 sm:pb-24">
    <p class="text-sm font-semibold text-indigo-600 tracking-wide uppercase mb-4">6 platforms. 1 search bar.</p>
    <h1 class="text-4xl font-bold tracking-tight sm:text-6xl">
      Stop searching 6 apps.<br>
      <span class="text-indigo-600">Find your grail here.</span>
    </h1>
    <p class="mx-auto mt-6 max-w-2xl text-lg text-gray-500">
      GrailSearch aggregates Vinted, eBay, Depop, Grailed, Vestiaire Collective & Poshmark into one search.
      That discontinued Nike colorway? That vintage Helmut Lang piece? Find it in seconds, not hours.
    </p>

    <!-- Search Form -->
    <form action="<%= search_path %>" method="get" class="mx-auto mt-10 max-w-2xl px-2">
      <div class="flex rounded-2xl sm:rounded-full border-2 border-gray-200 bg-white shadow-lg focus-within:border-indigo-500 focus-within:shadow-xl transition-all">
        <input type="text" name="q" placeholder="Nike Dunk Low Panda Size 42..."
               class="flex-1 min-w-0 rounded-l-2xl sm:rounded-l-full px-4 sm:px-6 py-3 sm:py-4 text-base sm:text-lg outline-none placeholder-gray-400"
               autofocus
               aria-label="Search for fashion items">
        <button type="submit" class="rounded-r-2xl sm:rounded-r-full bg-black px-5 sm:px-8 py-3 sm:py-4 text-white font-medium hover:bg-gray-800 transition shrink-0">
          Search
        </button>
      </div>

      <!-- Quick filters -->
      <details class="mt-4 text-left">
        <summary class="cursor-pointer text-sm text-gray-500 hover:text-gray-700">+ Advanced filters</summary>
        <div class="mt-3 grid grid-cols-2 gap-3 sm:grid-cols-4">
          <input type="text" name="brand" placeholder="Brand" class="rounded-lg border border-gray-200 px-3 py-2 text-sm" aria-label="Brand filter">
          <input type="text" name="size" placeholder="Size" class="rounded-lg border border-gray-200 px-3 py-2 text-sm" aria-label="Size filter">
          <input type="text" name="color" placeholder="Color" class="rounded-lg border border-gray-200 px-3 py-2 text-sm" aria-label="Color filter">
          <select name="category" class="rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-600" aria-label="Category filter">
            <option value="">All categories</option>
            <option value="shoes">Shoes</option>
            <option value="tops">Tops</option>
            <option value="bottoms">Bottoms</option>
            <option value="outerwear">Outerwear</option>
            <option value="accessories">Accessories</option>
            <option value="bags">Bags</option>
          </select>
          <input type="number" name="min_price" placeholder="Min ‚Ç¨" class="rounded-lg border border-gray-200 px-3 py-2 text-sm" aria-label="Minimum price">
          <input type="number" name="max_price" placeholder="Max ‚Ç¨" class="rounded-lg border border-gray-200 px-3 py-2 text-sm" aria-label="Maximum price">
        </div>
      </details>
    </form>

    <!-- Social proof -->
    <p class="mt-8 text-sm text-gray-400">Join thousands of grail hunters searching smarter</p>
  </div>
</section>

<!-- How it works -->
<section class="bg-gray-50 py-16" id="how-it-works">
  <div class="mx-auto max-w-5xl px-4">
    <h2 class="text-center text-2xl font-bold">How it works</h2>
    <p class="text-center text-gray-500 mt-2">Three steps to your next grail</p>
    <div class="mt-10 grid gap-8 sm:grid-cols-3">
      <div class="text-center">
        <div class="mx-auto flex h-14 w-14 items-center justify-center rounded-2xl bg-indigo-100 text-indigo-600 text-2xl">üîç</div>
        <h3 class="mt-4 font-semibold text-lg">Describe your grail</h3>
        <p class="mt-2 text-sm text-gray-500">Enter the item, brand, size, color, and budget. Be as specific or broad as you like.</p>
      </div>
      <div class="text-center">
        <div class="mx-auto flex h-14 w-14 items-center justify-center rounded-2xl bg-indigo-100 text-indigo-600 text-2xl">‚ö°</div>
        <h3 class="mt-4 font-semibold text-lg">We search everywhere</h3>
        <p class="mt-2 text-sm text-gray-500">Instant results from eBay & Vinted. Direct links to Depop, Grailed, Vestiaire & Poshmark ‚Äî all in one view.</p>
      </div>
      <div class="text-center">
        <div class="mx-auto flex h-14 w-14 items-center justify-center rounded-2xl bg-indigo-100 text-indigo-600 text-2xl">üîî</div>
        <h3 class="mt-4 font-semibold text-lg">Save & get alerts</h3>
        <p class="mt-2 text-sm text-gray-500">Save searches and get email alerts when new listings appear. Never miss a grail again.</p>
      </div>
    </div>
  </div>
</section>

<!-- Platforms -->
<section class="py-16">
  <div class="mx-auto max-w-5xl px-4 text-center">
    <h2 class="text-2xl font-bold">6 platforms, one search</h2>
    <p class="mt-2 text-gray-500">We search the biggest resale marketplaces so you don't have to</p>
    <div class="mt-8 grid grid-cols-2 sm:grid-cols-3 gap-4 max-w-xl mx-auto">
      <% [
        ["eBay", "Live results", "bg-yellow-50 text-yellow-700"],
        ["Vinted", "Live results", "bg-teal-50 text-teal-700"],
        ["Depop", "Direct link", "bg-red-50 text-red-700"],
        ["Grailed", "Direct link", "bg-gray-100 text-gray-700"],
        ["Vestiaire", "Direct link", "bg-orange-50 text-orange-700"],
        ["Poshmark", "Direct link", "bg-pink-50 text-pink-700"]
      ].each do |name, type, classes| %>
        <div class="rounded-xl p-4 <%= classes %>">
          <p class="font-semibold"><%= name %></p>
          <p class="text-xs mt-1 opacity-75"><%= type %></p>
        </div>
      <% end %>
    </div>
  </div>
</section>

<!-- Pro upsell -->
<section class="bg-gradient-to-r from-indigo-600 to-purple-600 py-16">
  <div class="mx-auto max-w-3xl px-4 text-center text-white">
    <h2 class="text-2xl font-bold">Never miss a grail again</h2>
    <p class="mt-3 text-indigo-100">
      With GrailSearch Pro, save unlimited searches and get hourly email alerts when new listings match.
      We check while you sleep.
    </p>
    <div class="mt-6 flex flex-col sm:flex-row items-center justify-center gap-4">
      <a href="<%= pricing_path %>" class="rounded-full bg-white text-indigo-600 px-8 py-3 font-semibold hover:bg-indigo-50 transition">
        Get Pro ‚Äî ‚Ç¨8/mo
      </a>
      <span class="text-indigo-200 text-sm">Cancel anytime ¬∑ No commitment</span>
    </div>
  </div>
</section>

<!-- SEO Content -->
<section class="py-16">
  <div class="mx-auto max-w-3xl px-4">
    <h2 class="text-2xl font-bold text-center">The smarter way to find rare fashion</h2>
    <div class="mt-6 space-y-4 text-gray-600 text-sm leading-relaxed">
      <p>Tired of searching the same thing on Vinted, then Depop, then eBay, then Grailed? <strong>GrailSearch</strong> aggregates results from all major resale platforms so you can find that discontinued Nike colorway, that sold-out St√ºssy hoodie, or that vintage Helmut Lang piece ‚Äî all from one search bar.</p>
      <p>Whether you're hunting a specific Jordan colorway, a rare Supreme collaboration, or a vintage designer piece, GrailSearch covers <strong>eBay, Vinted, Depop, Grailed, Vestiaire Collective, and Poshmark</strong> ‚Äî the six biggest secondhand fashion marketplaces worldwide.</p>
      <p>Set up alerts and we'll email you the moment new listings match your criteria. No more checking 6 apps every morning. No more missing out because someone else found it first.</p>
    </div>
  </div>
</section>

<!-- FAQ for SEO -->
<section class="bg-gray-50 py-16">
  <div class="mx-auto max-w-3xl px-4">
    <h2 class="text-2xl font-bold text-center">Frequently asked questions</h2>
    <dl class="mt-8 space-y-6">
      <div>
        <dt class="font-semibold text-gray-900">What is GrailSearch?</dt>
        <dd class="mt-1 text-sm text-gray-600">GrailSearch is a fashion search engine that lets you search across Vinted, eBay, Depop, Grailed, Vestiaire Collective, and Poshmark simultaneously. Instead of checking 6 different apps, search once and see results from everywhere.</dd>
      </div>
      <div>
        <dt class="font-semibold text-gray-900">Is GrailSearch free?</dt>
        <dd class="mt-1 text-sm text-gray-600">Yes! Searching is completely free with no limits. You can also save up to 3 searches for free. GrailSearch Pro (‚Ç¨8/month) adds unlimited saved searches, hourly email alerts, and price tracking.</dd>
      </div>
      <div>
        <dt class="font-semibold text-gray-900">What does "grail" mean in fashion?</dt>
        <dd class="mt-1 text-sm text-gray-600">A "grail" (or "holy grail") is a highly sought-after fashion item that's hard to find ‚Äî typically discontinued, limited edition, or vintage pieces. GrailSearch helps you find these rare items across all major resale platforms.</dd>
      </div>
      <div>
        <dt class="font-semibold text-gray-900">How do email alerts work?</dt>
        <dd class="mt-1 text-sm text-gray-600">Save a search and we'll check all platforms hourly for new listings matching your criteria. When we find something new, you'll get an email with direct links to the listings. Pro users get unlimited alerts.</dd>
      </div>
    </dl>
  </div>
</section>

<!-- FAQ Structured Data -->
<% content_for(:structured_data) do %>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is GrailSearch?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "GrailSearch is a fashion search engine that lets you search across Vinted, eBay, Depop, Grailed, Vestiaire Collective, and Poshmark simultaneously."
      }
    },
    {
      "@type": "Question",
      "name": "Is GrailSearch free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! Searching is completely free with no limits. GrailSearch Pro (‚Ç¨8/month) adds unlimited saved searches, hourly email alerts, and price tracking."
      }
    },
    {
      "@type": "Question",
      "name": "What does grail mean in fashion?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "A grail is a highly sought-after fashion item that's hard to find ‚Äî typically discontinued, limited edition, or vintage pieces."
      }
    },
    {
      "@type": "Question",
      "name": "How do email alerts work?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Save a search and we check all platforms hourly for new listings matching your criteria. When we find something new, you get an email with direct links."
      }
    }
  ]
}
</script>
<% end %>

<!-- CTA -->
<section class="py-16">
  <div class="mx-auto max-w-2xl px-4 text-center">
    <h2 class="text-2xl font-bold">Ready to find your grail?</h2>
    <p class="mt-2 text-gray-500">Free to search. No account required.</p>
    <div class="mt-6 flex flex-col sm:flex-row justify-center gap-4">
      <a href="<%= search_path %>" class="rounded-full bg-black px-8 py-3 text-white font-medium hover:bg-gray-800 transition">Start searching</a>
      <a href="<%= signup_path %>" class="rounded-full border-2 border-gray-200 px-8 py-3 font-medium hover:border-gray-400 transition">Create free account</a>
    </div>
  </div>
</section>
